############################################################
#
#    decorators
#
############################################################



class MyClass(object):
    def __init__(self, color):
        self.color = color

    def foo(self, fn):
        def enhance(x, fn=fn):
            fn(x)
            print "foo: ", self.color, x
        return enhance

    def bar(self, fn):
        def enhance(x, fn=fn):
            fn(x)
            print "bar: ", self.color, x
        return enhance
        
x = MyClass("red")
y = MyClass("blue")


@x.bar
def square(n):
    return n * n
 
@y.bar
def cube(n):
    return n * n * n
 
@y.foo
def quad(n):
    return n * n * n * n
 
 
x.bar(square)(4)
square(5)
cube(6)
quad(7)

1
