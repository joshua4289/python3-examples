############################################################
#
#    decorators
#
############################################################



class MyClass(object):
    def __init__(self, color):
        self.color = color

    def foo(self, fn):
        def enhance(x, fn=fn):
            print "foo: ", self.color, x
            return fn(x)
        return enhance

    def bar(self, fn):
        def enhance(x, fn=fn):
            print "bar: ", self.color, x
            return fn(x)
        return enhance
    
    def div(self, fn):
        def inner():
            print '<div class="{0}">{1}</div>'.format(self.color, fn())
        return inner

    def span(self, fn):
        def inner():
            print '<span class="{0}">{1}</span>'.format(self.color, fn())
        return inner

        
red = MyClass("red")
blue = MyClass("blue")

@red.div
def circle():
    return "This is a circle"

@blue.span
def square():
    return "This is a square"

 
circle()
square()

1
